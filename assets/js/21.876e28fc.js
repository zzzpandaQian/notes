(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{371:function(t,s,a){"use strict";a.r(s);var n=a(41),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一-关于小程序的状态管理vuex"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-关于小程序的状态管理vuex"}},[t._v("#")]),t._v(" "),a("font",{attrs:{color:"red"}},[t._v("一.关于小程序的状态管理vuex")])],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("state"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  userinfo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" uni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getStorageSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'userinfo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否能及时录入和读取??")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 目前解决是直接通过uni.getStorageSync('userinfo')来解决")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"二-小程序支持svg可以通过加载特定渲染器或者将svg转为base64以background-image形式展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-小程序支持svg可以通过加载特定渲染器或者将svg转为base64以background-image形式展示"}},[t._v("#")]),t._v(" 二.小程序支持svg可以通过加载特定渲染器或者将svg转为base64以background-image形式展示")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这里采用的是background-image的base64形式展示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将svg代码粘贴至https://codepen.io/jakob-e/pen/doMoML可转换为base64(仅声明为base64而非转化)")]),t._v("\n")])])]),a("h2",{attrs:{id:"三-微信登录和获取电话信息的请求过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-微信登录和获取电话信息的请求过程"}},[t._v("#")]),t._v(" 三.微信登录和获取电话信息的请求过程")]),t._v(" "),a("p",[t._v('1.通过wx.login()或者uni.login(provide: "weixin")获得code')]),t._v(" "),a("p",[t._v("2.request(data{code})传给后端，后端解码code(主要是通过wx的登录url,url还需要特定的appid参数)")]),t._v(" "),a("p",[t._v("3.请求wx的url后返回openid(用户唯一标识)和session_key和userinfo，后端创建用户到数据库")]),t._v(" "),a("p",[t._v("4.返回给前端，前端获取userinfo和openid")]),t._v(" "),a("p",[t._v('5.通过button的open-type="getPhoneNumber"以及@getPhoneNumber="回调函数"来发起获取电话的请求，这里的@getPhoneNumber是针对uni-app非原生。')]),t._v(" "),a("p",[t._v("6.回调函数存在参数{detail: {enctypeData,iv,iCloudID}}，给后端传递detail.enctypeData和detail.iv，后端通过特定的wx路由地址返回获取的电话号码给前端")]),t._v(" "),a("h2",{attrs:{id:"四-关于自定义导航栏高度和fixed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-关于自定义导航栏高度和fixed"}},[t._v("#")]),t._v(" "),a("font",{attrs:{color:"red"}},[t._v("四.关于自定义导航栏高度和fixed")])],1),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//需解决的问题:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1.导航栏的自适应")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2.导航栏的fixed布局造成的高度\t缺失(待解决)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//3.导航栏的复用性(待解决)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//4.多功能自定义的设定(待解决)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//实现的基本原理如下")]),t._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取手机系统信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" phoneType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfoSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" titleH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'system'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安卓机大概率48，苹果机大多44")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'system'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Android'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    titleH "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    titleH "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("44")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// navHeight为当行懒高度，res['statusBarHeight']为状态栏高度")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navHeight "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" titleH "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'statusBarHeight'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("h2",{attrs:{id:"五-关于自定义盒模型边框样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-关于自定义盒模型边框样式"}},[t._v("#")]),t._v(" 五.关于自定义盒模型边框样式")]),t._v(" "),a("p",[t._v("1.通过增加无高宽的border三角形div")]),t._v(" "),a("p",[t._v("2.通过clip-path()")]),t._v(" "),a("p",[t._v("3.svg实现")])])}),[],!1,null,null,null);s.default=e.exports}}]);