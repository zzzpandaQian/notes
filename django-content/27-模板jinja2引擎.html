<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>模板jinja2引擎 | 还隔这查文档，我上来就是一拳</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/notes/assets/css/0.styles.046e0507.css" as="style"><link rel="preload" href="/notes/assets/js/app.693f674f.js" as="script"><link rel="preload" href="/notes/assets/js/2.ee803d5e.js" as="script"><link rel="preload" href="/notes/assets/js/47.42049855.js" as="script"><link rel="prefetch" href="/notes/assets/js/10.8df4875c.js"><link rel="prefetch" href="/notes/assets/js/100.8bdd21e6.js"><link rel="prefetch" href="/notes/assets/js/101.6e8be7dd.js"><link rel="prefetch" href="/notes/assets/js/102.53ab07dc.js"><link rel="prefetch" href="/notes/assets/js/103.9a825864.js"><link rel="prefetch" href="/notes/assets/js/104.aa5af432.js"><link rel="prefetch" href="/notes/assets/js/105.ea9a56c7.js"><link rel="prefetch" href="/notes/assets/js/106.ec33f3ad.js"><link rel="prefetch" href="/notes/assets/js/107.e7009964.js"><link rel="prefetch" href="/notes/assets/js/108.52c1f920.js"><link rel="prefetch" href="/notes/assets/js/109.65d686e4.js"><link rel="prefetch" href="/notes/assets/js/11.1496d8e0.js"><link rel="prefetch" href="/notes/assets/js/110.dd503851.js"><link rel="prefetch" href="/notes/assets/js/111.713cd005.js"><link rel="prefetch" href="/notes/assets/js/112.b008e42d.js"><link rel="prefetch" href="/notes/assets/js/113.8765549b.js"><link rel="prefetch" href="/notes/assets/js/114.c1ab5490.js"><link rel="prefetch" href="/notes/assets/js/115.3d9d10df.js"><link rel="prefetch" href="/notes/assets/js/116.21bac402.js"><link rel="prefetch" href="/notes/assets/js/117.80ca349e.js"><link rel="prefetch" href="/notes/assets/js/118.264dfbfd.js"><link rel="prefetch" href="/notes/assets/js/119.94abe060.js"><link rel="prefetch" href="/notes/assets/js/12.48b964d8.js"><link rel="prefetch" href="/notes/assets/js/120.a1e95cca.js"><link rel="prefetch" href="/notes/assets/js/121.920f0871.js"><link rel="prefetch" href="/notes/assets/js/122.fa2c1331.js"><link rel="prefetch" href="/notes/assets/js/123.ae900d0b.js"><link rel="prefetch" href="/notes/assets/js/124.a681e4ad.js"><link rel="prefetch" href="/notes/assets/js/125.9dc36731.js"><link rel="prefetch" href="/notes/assets/js/126.19b0b6f6.js"><link rel="prefetch" href="/notes/assets/js/127.753e1762.js"><link rel="prefetch" href="/notes/assets/js/128.04d224d3.js"><link rel="prefetch" href="/notes/assets/js/129.96ed219e.js"><link rel="prefetch" href="/notes/assets/js/13.7a358a5b.js"><link rel="prefetch" href="/notes/assets/js/130.31efda50.js"><link rel="prefetch" href="/notes/assets/js/131.1fbd9731.js"><link rel="prefetch" href="/notes/assets/js/132.24cbfa83.js"><link rel="prefetch" href="/notes/assets/js/133.3d541007.js"><link rel="prefetch" href="/notes/assets/js/134.87101ac5.js"><link rel="prefetch" href="/notes/assets/js/135.25562a0d.js"><link rel="prefetch" href="/notes/assets/js/136.55d387c0.js"><link rel="prefetch" href="/notes/assets/js/137.b70e6a0a.js"><link rel="prefetch" href="/notes/assets/js/138.b4a0d289.js"><link rel="prefetch" href="/notes/assets/js/139.eb1b9d08.js"><link rel="prefetch" href="/notes/assets/js/14.fb3a52e3.js"><link rel="prefetch" href="/notes/assets/js/140.906e8f92.js"><link rel="prefetch" href="/notes/assets/js/141.a9c1d0ff.js"><link rel="prefetch" href="/notes/assets/js/142.10d4f3f3.js"><link rel="prefetch" href="/notes/assets/js/143.70d396fb.js"><link rel="prefetch" href="/notes/assets/js/144.cf7ba1e8.js"><link rel="prefetch" href="/notes/assets/js/145.3056455a.js"><link rel="prefetch" href="/notes/assets/js/146.97300387.js"><link rel="prefetch" href="/notes/assets/js/147.c552d920.js"><link rel="prefetch" href="/notes/assets/js/148.24cd5671.js"><link rel="prefetch" href="/notes/assets/js/149.39dd402e.js"><link rel="prefetch" href="/notes/assets/js/15.c8adf5ed.js"><link rel="prefetch" href="/notes/assets/js/150.1e0e74cc.js"><link rel="prefetch" href="/notes/assets/js/151.7a5ef1a1.js"><link rel="prefetch" href="/notes/assets/js/152.82103aef.js"><link rel="prefetch" href="/notes/assets/js/153.64f23cb0.js"><link rel="prefetch" href="/notes/assets/js/154.e10ca008.js"><link rel="prefetch" href="/notes/assets/js/155.26add57a.js"><link rel="prefetch" href="/notes/assets/js/156.baba0d11.js"><link rel="prefetch" href="/notes/assets/js/157.9ed8cc70.js"><link rel="prefetch" href="/notes/assets/js/158.a8f99100.js"><link rel="prefetch" href="/notes/assets/js/159.7a274487.js"><link rel="prefetch" href="/notes/assets/js/16.06250b71.js"><link rel="prefetch" href="/notes/assets/js/160.bf19e881.js"><link rel="prefetch" href="/notes/assets/js/161.ca8ce943.js"><link rel="prefetch" href="/notes/assets/js/162.ca4bba30.js"><link rel="prefetch" href="/notes/assets/js/163.3a76e583.js"><link rel="prefetch" href="/notes/assets/js/164.6ab4321a.js"><link rel="prefetch" href="/notes/assets/js/165.cdb63940.js"><link rel="prefetch" href="/notes/assets/js/166.5a97199c.js"><link rel="prefetch" href="/notes/assets/js/167.7e3ec094.js"><link rel="prefetch" href="/notes/assets/js/168.035592fa.js"><link rel="prefetch" href="/notes/assets/js/169.366a4304.js"><link rel="prefetch" href="/notes/assets/js/17.a6f856ad.js"><link rel="prefetch" href="/notes/assets/js/170.7c9cc147.js"><link rel="prefetch" href="/notes/assets/js/171.cf5a48d8.js"><link rel="prefetch" href="/notes/assets/js/172.19e2f582.js"><link rel="prefetch" href="/notes/assets/js/173.9a12226f.js"><link rel="prefetch" href="/notes/assets/js/174.f083b849.js"><link rel="prefetch" href="/notes/assets/js/18.9be01929.js"><link rel="prefetch" href="/notes/assets/js/19.0bff607d.js"><link rel="prefetch" href="/notes/assets/js/20.cceec89f.js"><link rel="prefetch" href="/notes/assets/js/21.876e28fc.js"><link rel="prefetch" href="/notes/assets/js/22.89577694.js"><link rel="prefetch" href="/notes/assets/js/23.fc1bb7ef.js"><link rel="prefetch" href="/notes/assets/js/24.e7122983.js"><link rel="prefetch" href="/notes/assets/js/25.02c1de2c.js"><link rel="prefetch" href="/notes/assets/js/26.16d528fe.js"><link rel="prefetch" href="/notes/assets/js/27.efc0eba1.js"><link rel="prefetch" href="/notes/assets/js/28.d688a8e3.js"><link rel="prefetch" href="/notes/assets/js/29.2584d6d0.js"><link rel="prefetch" href="/notes/assets/js/3.c81b0709.js"><link rel="prefetch" href="/notes/assets/js/30.5bef4ddc.js"><link rel="prefetch" href="/notes/assets/js/31.0b0aa28e.js"><link rel="prefetch" href="/notes/assets/js/32.f91948f2.js"><link rel="prefetch" href="/notes/assets/js/33.65519de3.js"><link rel="prefetch" href="/notes/assets/js/34.6a59642b.js"><link rel="prefetch" href="/notes/assets/js/35.0b951c50.js"><link rel="prefetch" href="/notes/assets/js/36.c1229a87.js"><link rel="prefetch" href="/notes/assets/js/37.f45f88c7.js"><link rel="prefetch" href="/notes/assets/js/38.a292be28.js"><link rel="prefetch" href="/notes/assets/js/39.ac7b814f.js"><link rel="prefetch" href="/notes/assets/js/4.acc16a77.js"><link rel="prefetch" href="/notes/assets/js/40.6d1a2236.js"><link rel="prefetch" href="/notes/assets/js/41.cb3f7d02.js"><link rel="prefetch" href="/notes/assets/js/42.57119e51.js"><link rel="prefetch" href="/notes/assets/js/43.04d6c2fc.js"><link rel="prefetch" href="/notes/assets/js/44.3e7a3100.js"><link rel="prefetch" href="/notes/assets/js/45.f9bed2f1.js"><link rel="prefetch" href="/notes/assets/js/46.408d5e96.js"><link rel="prefetch" href="/notes/assets/js/48.c07f0eb0.js"><link rel="prefetch" href="/notes/assets/js/49.763dad5f.js"><link rel="prefetch" href="/notes/assets/js/5.19114815.js"><link rel="prefetch" href="/notes/assets/js/50.16466921.js"><link rel="prefetch" href="/notes/assets/js/51.77613262.js"><link rel="prefetch" href="/notes/assets/js/52.371b49d2.js"><link rel="prefetch" href="/notes/assets/js/53.afdfb70b.js"><link rel="prefetch" href="/notes/assets/js/54.0700a309.js"><link rel="prefetch" href="/notes/assets/js/55.f17aa88f.js"><link rel="prefetch" href="/notes/assets/js/56.7ba59c60.js"><link rel="prefetch" href="/notes/assets/js/57.6ab33601.js"><link rel="prefetch" href="/notes/assets/js/58.3df2ea7e.js"><link rel="prefetch" href="/notes/assets/js/59.f05a40b5.js"><link rel="prefetch" href="/notes/assets/js/6.fbd39b4b.js"><link rel="prefetch" href="/notes/assets/js/60.e243c11f.js"><link rel="prefetch" href="/notes/assets/js/61.e56bf6b9.js"><link rel="prefetch" href="/notes/assets/js/62.aade55a7.js"><link rel="prefetch" href="/notes/assets/js/63.14962c3b.js"><link rel="prefetch" href="/notes/assets/js/64.a1883e51.js"><link rel="prefetch" href="/notes/assets/js/65.6c099679.js"><link rel="prefetch" href="/notes/assets/js/66.3e2bb8f1.js"><link rel="prefetch" href="/notes/assets/js/67.0fa3630d.js"><link rel="prefetch" href="/notes/assets/js/68.ed132600.js"><link rel="prefetch" href="/notes/assets/js/69.c7d0f351.js"><link rel="prefetch" href="/notes/assets/js/7.157e2031.js"><link rel="prefetch" href="/notes/assets/js/70.b6f8bbee.js"><link rel="prefetch" href="/notes/assets/js/71.a1072810.js"><link rel="prefetch" href="/notes/assets/js/72.b75efabd.js"><link rel="prefetch" href="/notes/assets/js/73.a670a6c0.js"><link rel="prefetch" href="/notes/assets/js/74.75ac7a5d.js"><link rel="prefetch" href="/notes/assets/js/75.d5442c48.js"><link rel="prefetch" href="/notes/assets/js/76.6ad52012.js"><link rel="prefetch" href="/notes/assets/js/77.ec21c444.js"><link rel="prefetch" href="/notes/assets/js/78.d2379aab.js"><link rel="prefetch" href="/notes/assets/js/79.ac499ef3.js"><link rel="prefetch" href="/notes/assets/js/8.c2e802f8.js"><link rel="prefetch" href="/notes/assets/js/80.deb3a426.js"><link rel="prefetch" href="/notes/assets/js/81.ea9cbddc.js"><link rel="prefetch" href="/notes/assets/js/82.b8544b95.js"><link rel="prefetch" href="/notes/assets/js/83.8c22bdcf.js"><link rel="prefetch" href="/notes/assets/js/84.4895fe5c.js"><link rel="prefetch" href="/notes/assets/js/85.93ab470a.js"><link rel="prefetch" href="/notes/assets/js/86.fd086a14.js"><link rel="prefetch" href="/notes/assets/js/87.7d842136.js"><link rel="prefetch" href="/notes/assets/js/88.d3ad256a.js"><link rel="prefetch" href="/notes/assets/js/89.0fdbabf5.js"><link rel="prefetch" href="/notes/assets/js/9.1e8ef9c9.js"><link rel="prefetch" href="/notes/assets/js/90.c979d5eb.js"><link rel="prefetch" href="/notes/assets/js/91.fffbe9ac.js"><link rel="prefetch" href="/notes/assets/js/92.f46c7ae3.js"><link rel="prefetch" href="/notes/assets/js/93.50976afb.js"><link rel="prefetch" href="/notes/assets/js/94.e9bd725d.js"><link rel="prefetch" href="/notes/assets/js/95.0cf70666.js"><link rel="prefetch" href="/notes/assets/js/96.d5f09b5d.js"><link rel="prefetch" href="/notes/assets/js/97.c2c13071.js"><link rel="prefetch" href="/notes/assets/js/98.b83d8452.js"><link rel="prefetch" href="/notes/assets/js/99.382efddd.js">
    <link rel="stylesheet" href="/notes/assets/css/0.styles.046e0507.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/notes/" class="home-link router-link-active"><!----> <span class="site-name">还隔这查文档，我上来就是一拳</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notes/django-content/01-django介绍和相关术语.html" class="nav-link">
  Django
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/vue-content/基础内容/vue初体验.html" class="nav-link">
  基础内容
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/组件化/组件化.html" class="nav-link">
  组件化
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/webpack/安装与基本设置.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/CLI脚手架/CLI安装与项目创建.html" class="nav-link">
  CLI
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Vue-router/前端路由.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Vuex/介绍.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/axios网络模块/基本使用.html" class="nav-link">
  axios网络模块
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Uni-app/图片choose_preview_uploadFile.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/常用代码和json文件/头像图片裁剪与上传.html" class="nav-link">
  常用代码和json文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/css-content/css基础.html" class="nav-link">
  css基础
</a></li><li class="dropdown-item"><!----> <a href="/notes/css-content/常用网站.html" class="nav-link">
  常用网站
</a></li></ul></div></div><div class="nav-item"><a href="/notes/pieceknowledge/文档碎片操作dom.html" class="nav-link">
  小知识点
</a></div><div class="nav-item"><a href="/notes/diary/20210602.html" class="nav-link">
  日记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/notes/django-content/01-django介绍和相关术语.html" class="nav-link">
  Django
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/vue-content/基础内容/vue初体验.html" class="nav-link">
  基础内容
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/组件化/组件化.html" class="nav-link">
  组件化
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/webpack/安装与基本设置.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/CLI脚手架/CLI安装与项目创建.html" class="nav-link">
  CLI
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Vue-router/前端路由.html" class="nav-link">
  vue-router
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Vuex/介绍.html" class="nav-link">
  vuex
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/axios网络模块/基本使用.html" class="nav-link">
  axios网络模块
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/Uni-app/图片choose_preview_uploadFile.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/notes/vue-content/常用代码和json文件/头像图片裁剪与上传.html" class="nav-link">
  常用代码和json文件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="css" class="dropdown-title"><span class="title">css</span> <span class="arrow down"></span></button> <button type="button" aria-label="css" class="mobile-dropdown-title"><span class="title">css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes/css-content/css基础.html" class="nav-link">
  css基础
</a></li><li class="dropdown-item"><!----> <a href="/notes/css-content/常用网站.html" class="nav-link">
  常用网站
</a></li></ul></div></div><div class="nav-item"><a href="/notes/pieceknowledge/文档碎片操作dom.html" class="nav-link">
  小知识点
</a></div><div class="nav-item"><a href="/notes/diary/20210602.html" class="nav-link">
  日记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/notes/vue-content/基础内容/vue初体验/" class="sidebar-heading clickable"><span>Vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/django-content/01-django介绍和相关术语" class="sidebar-heading clickable open"><span>Django</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/django-content/01-django介绍和相关术语.html" class="sidebar-link">django介绍和相关术语</a></li><li><a href="/notes/django-content/02-python虚拟环境.html" class="sidebar-link">python虚拟环境</a></li><li><a href="/notes/django-content/03-项目搭建.html" class="sidebar-link">项目搭建</a></li><li><a href="/notes/django-content/04-django配置.html" class="sidebar-link">django配置</a></li><li><a href="/notes/django-content/05-URLConf调度器.html" class="sidebar-link">URLConf调度器</a></li><li><a href="/notes/django-content/06-模型.html" class="sidebar-link">模型</a></li><li><a href="/notes/django-content/07-视图.html" class="sidebar-link">视图</a></li><li><a href="/notes/django-content/09-admin后台管理.html" class="sidebar-link">admin后台管理</a></li><li><a href="/notes/django-content/10-会话技术.html" class="sidebar-link">会话技术</a></li><li><a href="/notes/django-content/11-分页器.html" class="sidebar-link">分页器</a></li><li><a href="/notes/django-content/12-web请求生命周期分析.html" class="sidebar-link">web请求生命周期分析</a></li><li><a href="/notes/django-content/13-验证码.html" class="sidebar-link">验证码</a></li><li><a href="/notes/django-content/14-中间件.html" class="sidebar-link">中间件</a></li><li><a href="/notes/django-content/15-日志.html" class="sidebar-link">信号signals</a></li><li><a href="/notes/django-content/16-信号signals.html" class="sidebar-link">django的信号signals</a></li><li><a href="/notes/django-content/17-缓存redis.html" class="sidebar-link">缓存redis</a></li><li><a href="/notes/django-content/18-Celery.html" class="sidebar-link">Celery</a></li><li><a href="/notes/django-content/19-DebugToolBar.html" class="sidebar-link">DebugToolBar</a></li><li><a href="/notes/django-content/20-REST framework.html" class="sidebar-link">REST framework</a></li><li><a href="/notes/django-content/21-项目部署.html" class="sidebar-link">项目部署</a></li><li><a href="/notes/django-content/22-文件云存储.html" class="sidebar-link">文件云存储</a></li><li><a href="/notes/django-content/23-富文本DjangoUeditor.html" class="sidebar-link">富文本DjangoUeditor</a></li><li><a href="/notes/django-content/24-文件上传和下载.html" class="sidebar-link">文件上传和下载</a></li><li><a href="/notes/django-content/25-项目开发流程.html" class="sidebar-link">项目开发流程</a></li><li><a href="/notes/django-content/26-邮箱验证和短信验证.html" class="sidebar-link">邮箱验证和短信验证</a></li><li><a href="/notes/django-content/27-模板jinja2引擎.html" class="active sidebar-link">模板jinja2引擎</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes/django-content/27-模板jinja2引擎.html#一、django模板" class="sidebar-link">一、django模板</a></li></ul></li><li><a href="/notes/django-content/28-JWT.html" class="sidebar-link">JWT</a></li><li><a href="/notes/django-content/29-微信小程序登录.html" class="sidebar-link">微信小程序登录</a></li><li><a href="/notes/django-content/30-爬虫.html" class="sidebar-link">爬虫</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/css-content/css基础" class="sidebar-heading clickable"><span>Css</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/pieceknowledge/文档碎片操作dom" class="sidebar-heading clickable"><span>小知识点</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/notes/diary/20210602" class="sidebar-heading clickable"><span>diary</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="模板jinja2引擎"><a href="#模板jinja2引擎" class="header-anchor">#</a> 模板jinja2引擎</h1> <h2 id="一、django模板"><a href="#一、django模板" class="header-anchor">#</a> 一、django模板</h2> <p>​	作为一个Web框架，Django需要一种方便的方式来动态生成HTML。最常用的方法依赖于模板。模板包含所需HTML输出的静态部分以及描述如何插入动态内容的特殊语法。</p> <p>​	对模板引擎的一般支持和Django模板语言的实现都存在于 django.template 命名空间中</p> <h4 id="_1、django模板"><a href="#_1、django模板" class="header-anchor">#</a> 1、django模板</h4> <h6 id="_1、配置"><a href="#_1、配置" class="header-anchor">#</a> 1、配置</h6> <p>​	在settings中配置：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## 配置模板</span>
TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.django.DjangoTemplates'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'templates'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">,</span>
        <span class="token string">'APP_DIRS'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'OPTIONS'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'context_processors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'django.template.context_processors.debug'</span><span class="token punctuation">,</span>
                <span class="token string">'django.template.context_processors.request'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.auth.context_processors.auth'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.messages.context_processors.messages'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

</code></pre></div><p>笔记：</p> <ul><li>BACKEND：是实现Django模板后端API的模板引擎类的路径。内置是django.template.backends.django.DjangoTemplates和 django.template.backends.jinja2.Jinja2（使用这个需要额外安装jinja2库）</li> <li>DIRS ：按搜索顺序定义引擎应该查找模板源文件的目录列表</li> <li>APP_DIRS：告诉引擎是否应该在已安装的应用程序中查找模板，每个后端为其模板应存储在的应用程序内的子目录定义一个常规名称。</li> <li>OPTIONS：包含后端特定的设置</li></ul> <h6 id="_2、用法"><a href="#_2、用法" class="header-anchor">#</a> 2、用法</h6> <p>​	假如settings中配置如下：</p> <div class="language-python extra-class"><pre class="language-python"><code>TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.django.DjangoTemplates'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">'/home/html/example.com'</span><span class="token punctuation">,</span>
            <span class="token string">'/home/html/default'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.jinja2.Jinja2'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">'/home/html/jinja2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

</code></pre></div><ol><li><p>get_template</p> <p>该函数使用给定名称加载模板并返回一个 Template对象，找到第一个匹配的模板即返回</p> <div class="language-python extra-class"><pre class="language-python"><code>template <span class="token operator">=</span> get_template<span class="token punctuation">(</span><span class="token string">'story_detail.html'</span><span class="token punctuation">)</span>
</code></pre></div><p>Django将要查找的文件，依次为：</p> <ul><li>/home/html/example.com/story_detail.html（'django'引擎）</li> <li>/home/html/default/story_detail.html（'django'引擎）</li> <li>/home/html/jinja2/story_detail.html（'jinja2'引擎）</li></ul> <p>示例：</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## 最常用的render</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render

<span class="token keyword">def</span> <span class="token function">my_view</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">## View code here...</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'myapp/index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token string">'foo'</span><span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/xhtml+xml'</span><span class="token punctuation">)</span>


<span class="token comment">## 相当于基础的get_template：</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse
<span class="token keyword">from</span> django<span class="token punctuation">.</span>template <span class="token keyword">import</span> loader

<span class="token keyword">def</span> <span class="token function">my_view</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">## View code here...</span>
    t <span class="token operator">=</span> loader<span class="token punctuation">.</span>get_template<span class="token punctuation">(</span><span class="token string">'myapp/index.html'</span><span class="token punctuation">)</span>
    c <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'foo'</span><span class="token punctuation">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span>
    <span class="token comment">## 注意，这个 render 和 快捷键 render 不是一个对象</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>t<span class="token punctuation">.</span>render<span class="token punctuation">(</span>c<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/xhtml+xml'</span><span class="token punctuation">)</span>

</code></pre></div></li> <li><p>select_template</p> <p>select_template() 用法类似 get_template() ，除了它需要一个模板名称的列表。它按顺序尝试每个名称并返回存在的第一个模板</p> <div class="language-python extra-class"><pre class="language-python"><code>template <span class="token operator">=</span> select_template<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'story_253_detail.html'</span><span class="token punctuation">,</span><span class="token string">'story_detail.html'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Django将要查找的文件，依次为：</p> <ul><li>/home/html/example.com/story_253_detail.html（'django'引擎）</li> <li>/home/html/default/story_253_detail.html（'django'引擎）</li> <li>/home/html/jinja2/story_253_detail.html（'jinja2'引擎）</li> <li>/home/html/example.com/story_detail.html（'django'引擎）</li> <li>/home/html/default/story_detail.html（'django'引擎）</li> <li>/home/html/jinja2/story_detail.html（'jinja2'引擎）</li></ul></li></ol> <h6 id="_3、模板语言"><a href="#_3、模板语言" class="header-anchor">#</a> 3、模板语言</h6> <p>​	Django模板只是一个文本文档或使用Django模板语言标记的Python字符串。一些结构被模板引擎识别和解释，主要的是变量和标签。</p> <p>######## 1、变量</p> <p>​	一个变量从上下文中输出一个值，这是一个类似字典的对象将键映射到值。</p> <p>​	变量被这样包围 ：  譬如：</p> <div class="language-django extra-class"><pre class="language-django"><code>## 模板中这样写：
My first name is <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">first_name</span> <span class="token delimiter punctuation">}}</span></span>. My last name is <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">last_name</span> <span class="token delimiter punctuation">}}</span></span>.

## 传入到 模板中的变量为：
{'first_name': 'John', 'last_name': 'Doe'}

## 在浏览器中显示如下：
My first name is John. My last name is Doe.
</code></pre></div><p>​	字典查找，属性查找和列表索引查找 都用点符号实现：</p> <div class="language-django extra-class"><pre class="language-django"><code>## 获取字典的 value
<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">my_dict</span><span class="token punctuation">.</span><span class="token variable">key</span> <span class="token delimiter punctuation">}}</span></span>

## 获取对象的 属性
<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">my_object</span><span class="token punctuation">.</span><span class="token variable">attribute</span> <span class="token delimiter punctuation">}}</span></span>

## 获取列表的 元素
<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">my_list</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token delimiter punctuation">}}</span></span>
</code></pre></div><p>######## 2、标签</p> <p>​	标签在渲染过程中提供任意的逻辑。</p> <p>​	例如，标签可以输出内容，用作控制结构，</p> <p>​	例如“if”语句或“for”循环，从数据库中获取内容，甚至可以访问其他模板标签。</p> <p>​	所有标签见：</p> <p>​	https://docs.djangoproject.com/en/2.2/ref/templates/builtins/##ref-templates-builtins-tags</p> <ol><li><p>基本用法</p> <p>标签被包围  {% 代码 %}  譬如：</p> <div class="language-django extra-class"><pre class="language-django"><code>## 无参数标签 csrf_token
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">csrf_token</span> <span class="token delimiter punctuation">%}</span></span>

## 传参的标签 cycle  ， 参数 'odd' 'even' ，空格间隔
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">cycle</span> <span class="token string">'odd'</span> <span class="token string">'even'</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div></li> <li><p>常见标签</p> <ol><li><p>if</p> <p>判断标签 if  endif ：</p> <div class="language-django extra-class"><pre class="language-django"><code>## athlete_list 不为空
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
	## 输出 athlete_list 的长度    | 是过滤器
    Number of athletes: <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">athlete_list</span><span class="token operator">|</span><span class="token filter function">length</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">elif</span> <span class="token variable">athlete_in_locker_room_list</span> <span class="token delimiter punctuation">%}</span></span>
    Athletes should be out of the locker room soon!
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">else</span> <span class="token delimiter punctuation">%}</span></span>
    No athletes.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div></li> <li><p>firstof</p> <p>输出不是False的第一个参数，所有参数都为False，则什么都不输出</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">firstof</span> <span class="token variable">var1</span> <span class="token variable">var2</span> <span class="token variable">var3</span> <span class="token delimiter punctuation">%}</span></span>
等同于
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">var1</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">var1</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">elif</span> <span class="token variable">var2</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">var2</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">elif</span> <span class="token variable">var3</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">var3</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

使用默认值：
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">firstof</span> <span class="token variable">var1</span> <span class="token variable">var2</span> <span class="token variable">var3</span> <span class="token string">&quot;默认值&quot;</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div></li> <li><p>for</p> <p>循环遍历，for endfor结束 ，可以遍历列表，字典等</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">for</span> <span class="token variable">athlete</span> <span class="token keyword">in</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">athlete</span><span class="token punctuation">.</span><span class="token variable">name</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

反向循环：
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">for</span> <span class="token variable">athlete</span> <span class="token keyword">in</span> <span class="token variable">athlete_list</span> <span class="token variable">reversed</span><span class="token delimiter punctuation">%}</span></span>

字典：
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">for</span> <span class="token variable">key</span><span class="token punctuation">,</span> <span class="token variable">value</span> <span class="token keyword">in</span> <span class="token variable">data</span><span class="token punctuation">.</span><span class="token variable">items</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">key</span> <span class="token delimiter punctuation">}}</span></span>: <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>

设置默认值， for empty  ，类似python的  for else：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">for</span> <span class="token variable">athlete</span> <span class="token keyword">in</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">athlete</span><span class="token punctuation">.</span><span class="token variable">name</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">empty</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Sorry, no athletes in this list.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
等同于，但是比下面的写法更加简便：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">for</span> <span class="token variable">athlete</span> <span class="token keyword">in</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">athlete</span><span class="token punctuation">.</span><span class="token variable">name</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
  <span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">else</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Sorry, no athletes in this list.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>for循环在循环中设置了许多变量：</p> <table><thead><tr><th><strong>变量</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><strong>forloop.counter</strong></td> <td>循环的当前迭代（1索引）</td></tr> <tr><td><strong>forloop.counter0</strong></td> <td>循环的当前迭代（0索引）</td></tr> <tr><td><strong>forloop.revcounter</strong></td> <td>循环结束时的迭代次数（1索引）</td></tr> <tr><td><strong>forloop.revcounter0</strong></td> <td>循环结束时的迭代次数（0索引）</td></tr> <tr><td><strong>forloop.first</strong></td> <td>如果这是通过循环的第一次，则为真</td></tr> <tr><td><strong>forloop.last</strong></td> <td>如果这是通过循环的最后一次，则为真</td></tr> <tr><td><strong>forloop.parentloop</strong></td> <td>对于嵌套循环，这是围绕当前循环的循环</td></tr></tbody></table></li> <li><p>布尔运算符</p> <p>and、or和not</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token keyword">and</span> <span class="token variable">coach_list</span> <span class="token delimiter punctuation">%}</span></span>
    Both athletes and coaches are available.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token keyword">not</span> <span class="token variable">athlete_list</span> <span class="token delimiter punctuation">%}</span></span>
    There are no athletes.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token keyword">or</span> <span class="token variable">coach_list</span> <span class="token delimiter punctuation">%}</span></span>
    There are some athletes or some coaches.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token keyword">not</span> <span class="token variable">athlete_list</span> <span class="token keyword">or</span> <span class="token variable">coach_list</span> <span class="token delimiter punctuation">%}</span></span>
    There are no athletes or there are some coaches.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token keyword">and</span> <span class="token keyword">not</span> <span class="token variable">coach_list</span> <span class="token delimiter punctuation">%}</span></span>
    There are some athletes and absolutely no coaches.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div><p>允许在同一个标签中使用两个and和or子句， and优先级高于or例如：</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">athlete_list</span> <span class="token keyword">and</span> <span class="token variable">coach_list</span> <span class="token keyword">or</span> <span class="token variable">cheerleader_list</span> <span class="token delimiter punctuation">%}</span></span>
将被解释为：
if (athlete_list and coach_list) or cheerleader_list

</code></pre></div><p>但是在if标签中使用实际的括号是无效的语法。如果你需要它们来表示优先级，你应该使用嵌套if标签</p></li> <li><p>逻辑运算符</p> <p>==, !=, &lt;, &gt;, &lt;=, &gt;=, in, not in, is, 和 is not</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">somevar</span> <span class="token operator">==</span> <span class="token string">&quot;x&quot;</span> <span class="token delimiter punctuation">%}</span></span>
  This appears if variable somevar equals the string &quot;x&quot;
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token string">&quot;bc&quot;</span> <span class="token keyword">in</span> <span class="token string">&quot;abcdef&quot;</span> <span class="token delimiter punctuation">%}</span></span>
  This appears since &quot;bc&quot; is a substring of &quot;abcdef&quot;
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">somevar</span> <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token test function">True</span> <span class="token delimiter punctuation">%}</span></span>
  This appears if somevar is not True, or if somevar is not found in the
  context.
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div><p>优先级，从低到高：</p> <ul><li>or</li> <li>and</li> <li>not</li> <li>in</li> <li>==，!=，&lt;，&gt;，&lt;=，&gt;=</li></ul></li> <li><p>url</p> <p>给定视图和可选参数匹配的绝对路径引用（没有域名的URL）</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">url</span> <span class="token string">'some-url-name'</span> <span class="token variable">v1</span> <span class="token variable">v2</span> <span class="token delimiter punctuation">%}</span></span>
第一个参数是url模式名称，后面跟着的是参数，以空格分隔

可以使用关键字：
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">url</span> <span class="token string">'some-url-name'</span> <span class="token variable">arg1</span><span class="token operator">=</span><span class="token variable">v1</span> <span class="token variable">arg2</span><span class="token operator">=</span><span class="token variable">v2</span> <span class="token delimiter punctuation">%}</span></span>

如果您想检索命名空间的URL，请指定完全限定的名称：
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">url</span> <span class="token string">'myapp:view-name'</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div></li> <li><p>with</p> <p>简单的名称缓存复杂变量，当访问多次耗时的方法（例如操作数据库的方法）:</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">with</span> <span class="token variable">total</span><span class="token operator">=</span><span class="token variable">business</span><span class="token punctuation">.</span><span class="token variable">employees</span><span class="token punctuation">.</span><span class="token variable">count</span><span class="token delimiter punctuation">%}</span></span>
    <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">total</span> <span class="token delimiter punctuation">}}</span></span> employee
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endwith</span> <span class="token delimiter punctuation">%}</span></span>

上述的：<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">with</span> <span class="token variable">total</span><span class="token operator">=</span><span class="token variable">business</span><span class="token punctuation">.</span><span class="token variable">employees</span><span class="token punctuation">.</span><span class="token variable">count</span><span class="token delimiter punctuation">%}</span></span>
    等同于：<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">with</span> <span class="token variable">business</span><span class="token punctuation">.</span><span class="token variable">employees</span><span class="token punctuation">.</span><span class="token variable">count</span> <span class="token keyword">as</span> <span class="token variable">total</span> <span class="token delimiter punctuation">%}</span></span>

</code></pre></div></li> <li><p>过滤器</p> <p>通过  |   来使用</p> <p>length：messages|length这里判断 messages 不为空，并且长度大于等于100</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">if</span> <span class="token variable">messages</span><span class="token operator">|</span><span class="token filter function">length</span> <span class="token operator">&gt;=</span> <span class="token number">100</span> <span class="token delimiter punctuation">%}</span></span>
   You have lots of messages today!
<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>add：相加(减法：|add:-2 )</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">add</span><span class="token punctuation">:</span><span class="token string">&quot;2&quot;</span> <span class="token delimiter punctuation">}}</span></span>
如果value是4，那么输出6

<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">first</span><span class="token operator">|</span><span class="token filter function">add</span><span class="token punctuation">:</span><span class="token variable">second</span> <span class="token delimiter punctuation">}}</span></span>
如果first=[1,2,3] ，second=[4,5,6]，那么输出：[1,2,3,4,5,6]

</code></pre></div><p>divisibleby：能否整除，返回 True和False</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">divisibleby</span><span class="token punctuation">:</span><span class="token string">&quot;2&quot;</span> <span class="token delimiter punctuation">}}</span></span>
</code></pre></div><p>widthratio：乘法和除法</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">widthratio</span> <span class="token variable">this_value</span> <span class="token variable">max_value</span> <span class="token variable">max_width</span> <span class="token delimiter punctuation">%}</span></span>
结果是： this_value/max_value*max_width
如果要计算  value * 10 ： widthratio value 1 10
如果要计算 value / 8  ： widthratio 8 1
还可以这样使用：

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">widthratio</span> <span class="token variable">this_value</span> <span class="token variable">max_value</span> <span class="token variable">max_width</span> <span class="token keyword">as</span> <span class="token variable">width</span> <span class="token delimiter punctuation">%}</span></span>
The width is: <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">width</span> <span class="token delimiter punctuation">}}</span></span>

</code></pre></div><p>addslashes：单引号前加 \</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">addslashes</span> <span class="token delimiter punctuation">}}</span></span>
value=&quot;I'm using Django&quot;，输出：&quot;I\'m using Django&quot;.

</code></pre></div><p>capfirst：首字母大写</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">capfirst</span> <span class="token delimiter punctuation">}}</span></span>
如果value是&quot;django&quot;，输出将是&quot;Django&quot;。

</code></pre></div><p>center：将值置于给定宽度的字段中</p> <div class="language-django extra-class"><pre class="language-django"><code>&quot;<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">center</span><span class="token punctuation">:</span><span class="token string">&quot;15&quot;</span> <span class="token delimiter punctuation">}}</span></span>&quot;
如果value是&quot;Django&quot;，输出将是。&quot;     Django    &quot;，前面5个，后面4个空格

</code></pre></div><p>cut：删除给定字符</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">cut</span><span class="token punctuation">:</span><span class="token string">&quot; &quot;</span> <span class="token delimiter punctuation">}}</span></span>
如果value是&quot;String with spaces&quot;，输出将是：&quot;Stringwithspaces&quot;

</code></pre></div><p>date：日期字符串</p> <div class="language-django extra-class"><pre class="language-django"><code>格式字符  	描述	示例              输出
b	月，文字，3个字母，小写。	'jan'
d	每月的一天，2位数字前导零。	'01' 至 '31'
D	星期几，文字，3个字母。	'Fri'
e	时区名称。可能是任何格式，或者可能会返回一个空字符串，具体取决于日期时间。	''，'GMT'，'-500'，'US/Eastern'，等。
E	月，通常用于长日期表示的区域设置特定备选表示。	'listopada'（对于波兰语区而言'Listopad'）
f	时间在12小时和分钟之内，如果它们为零，则分钟时间不再。专有扩展。	'1'， '1:30'
F	月，文字，长。	'January'
g	小时，12小时制，无前导零。	'1' 至 '12'
G	小时，24小时制，无前导零。	'0' 至 '23'
h	小时，12小时制。	'01' 至 '12'
H	小时，24小时制。	'00' 至 '23'
i  	分钟。	'00' 至 '59'
I 	夏令时，无论是否有效。	'1'  or  '0'
J	没有前导零的月份的一天。	'1' 至 '31'
n	月没有前导零。	'1' 至 '12'
N   月份             'Jan.', 'Feb.', 'March', 'May'
s    秒                  00-59
t	给定月份的天数。	28 至 31
T	这台机器的时区。	'EST'， 'MDT'
u	微秒。	000000 至 999999
U	Unix时代以来的秒数（1970年1月1日00:00:00 UTC）。	 
w ^	没有前导零的数字。	'0'（星期日）至'6'（星期六）
W ^	ISO-8601周数，周数从周一开始。	1， 53
y	年，2位数字。	'99'
Y	年，4位数字。	'1999'
z	一年中的一天。	0 至 365
Z	以秒为单位的时区偏移量。UTC以西时区的偏移总是负值，而UTC以东的偏移总是正值。	-43200 至 43200


<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">date</span><span class="token punctuation">:</span><span class="token string">&quot;D d M Y&quot;</span> <span class="token delimiter punctuation">}}</span></span>
<span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">value</span><span class="token operator">|</span><span class="token filter function">date</span><span class="token punctuation">:</span><span class="token string">&quot;Y-m-d H:i:s&quot;</span> <span class="token delimiter punctuation">}}</span></span>
value：datetime.datetime.now()

</code></pre></div></li> <li><p>include</p> <p>包含另外一个模板</p> <p>模板名称可以是变量，也可以是单引号或双引号的硬编码（带引号）的字符串</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">include</span> <span class="token string">&quot;foo/bar.html&quot;</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">include</span> <span class="token variable">template_name</span> <span class="token delimiter punctuation">%}</span></span>
该变量也可以是任何具有render()接受上下文的方法的对象

</code></pre></div><p>include传参数：</p> <p>​	下面这个例子在页面中显示：&quot;Hello, John!&quot;</p> <ul><li><p>context：</p> <div class="language-python extra-class"><pre class="language-python"><code>context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'greeting'</span><span class="token punctuation">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token string">'person'</span><span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>name_snippet.html模板:</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">greeting</span> <span class="token delimiter punctuation">}}</span></span>, <span class="token django language-django"><span class="token delimiter punctuation">{{</span> <span class="token variable">person</span><span class="token operator">|</span><span class="token filter function">default</span><span class="token punctuation">:</span><span class="token string">&quot;friend&quot;</span> <span class="token delimiter punctuation">}}</span></span>!
</code></pre></div></li> <li><p>原模板通过with传递参数</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">include</span> <span class="token string">&quot;name_snippet.html&quot;</span> <span class="token keyword">with</span> <span class="token variable">person</span><span class="token operator">=</span><span class="token string">&quot;Jane&quot;</span> <span class="token variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;Hello&quot;</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>如果只想使用include传递的参数（甚至没有参数）渲染模板，使用only：</p> <div class="language-django extra-class"><pre class="language-django"><code><span class="token django language-django"><span class="token delimiter punctuation">{%</span> <span class="token tag keyword">include</span> <span class="token string">&quot;name_snippet.html&quot;</span> <span class="token keyword">with</span> <span class="token variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;Hi&quot;</span> <span class="token variable">only</span> <span class="token delimiter punctuation">%}</span></span>
</code></pre></div><p>​</p></li></ul></li></ol></li></ol> <h4 id="_2、jinja2模板"><a href="#_2、jinja2模板" class="header-anchor">#</a> 2、jinja2模板</h4> <h6 id="_1、安装"><a href="#_1、安装" class="header-anchor">#</a> 1、安装</h6> <p>​	使用pip命令：</p> <div class="language- extra-class"><pre class="language-text"><code>pip install jinja2
</code></pre></div><h6 id="_2、和django模板差异"><a href="#_2、和django模板差异" class="header-anchor">#</a> 2、和django模板差异</h6> <ol><li><p>方法调用</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## django</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> page <span class="token keyword">in</span> info<span class="token punctuation">.</span>get_pages <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span>


<span class="token comment">## jinja2</span>
<span class="token comment">## 这允许你给函数传递变量，且宏也使用这种方式，而这在 Django 中是不可能的</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> page <span class="token keyword">in</span> info<span class="token punctuation">.</span>get_pages<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>条件判断</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## django</span>
<span class="token punctuation">{</span><span class="token operator">%</span> ifequal foo <span class="token string">&quot;bar&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endifequal <span class="token operator">%</span><span class="token punctuation">}</span>

<span class="token comment">## jinja2</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> foo <span class="token operator">==</span> <span class="token string">'bar'</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span>

<span class="token comment">## jinja2中还允许多个 elif 分支</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> something <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">elif</span> otherthing <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">elif</span> foothing <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>过滤器参数</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## django</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> items<span class="token operator">|</span>join<span class="token punctuation">:</span><span class="token string">&quot;, &quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comment">## jinja2</span>
<span class="token comment">## 允许不同类型的参数，包括变量，并且不仅是一种</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> items<span class="token operator">|</span>join<span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>循环</p> <p>for循环是一样的，但是 ：</p> <p>jinja2 中循环上下文的特殊变量名为 loop</p> <p>django 中则是forloop</p></li> <li><p>周期计</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment">## django</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> user <span class="token keyword">in</span> users <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{% cycle 'odd' 'even' %}&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> user <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span>

<span class="token comment">## jinja2</span>
<span class="token comment">## Jinja2 中没有 {% cycle %} 标签，但可以通过 loop.cycle 实现一样的功能</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> user <span class="token keyword">in</span> users <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{{ loop.cycle('odd', 'even') }}&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> user <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes/django-content/26-邮箱验证和短信验证.html" class="prev">
        邮箱验证和短信验证
      </a></span> <span class="next"><a href="/notes/django-content/28-JWT.html">
        JWT
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/notes/assets/js/app.693f674f.js" defer></script><script src="/notes/assets/js/2.ee803d5e.js" defer></script><script src="/notes/assets/js/47.42049855.js" defer></script>
  </body>
</html>
